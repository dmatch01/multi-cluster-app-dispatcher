apiVersion: mcad.ibm.com/v1alpha1
kind: AppWrapper
metadata:
  labels:
  name: aw-pi
  namespace: default
spec:
  schedulingSpec:
    clusterScheduling:
      clusters:
      - name: cluster3
    dispatchingWindow:
      start:
        desiredTimestamp: 2021-03-23T18:00:00Z
    runtimeDuration:
        expected: 4200s
  resources:
    GenericItems:
    - replicas: 1
      generictemplate:
        apiVersion: batch/v1
        kind: Job
        metadata:
          name: pi
        spec:
          template:
            spec:
              containers:
              - name: pi
                image: perl
                command: ["perl",  "-Mbignum=bpi", "-wle", "print bpi(2000)"]
              restartPolicy: Never
          backoffLimit: 4
